---
title: "Getting started with R"
author: G√©raldine Derroire
institute: Cirad - UnB
date: last-modified
format: 
  revealjs:
    theme: solarized
    output-location: fragment 
    slide-number: true
    preview-links: true
    chalkboard: true
    link-external-icon: true
    link-external-newwindow: true
    incremental: true
execute:
  echo: true    
editor: 
  markdown: 
    wrap: sentence
---

# R and RStudio

## Let's open R

![](R_logo.png){width="10%"}

![](open_R.png){width="50%"}

::: notes
Talk about the meaning of free Talk about the fact that it is collaborative and about the no warranty =\> packages (collection of tools come with different level of quality =\> as for everything, be critical of what you use. But most packages are highly tested and reliable.)
:::

## What is R?

-   R is a **programming language** for processing and analysing quantitative data. It is derived from the programming language S.

-   R is free and **Open Source**: it is can be used, modified and distributed freely.

-   R is **collaborative**: it is developed by its users.

-   R is **multi-plateform**: it works on Windows, Linux and Mac.

## What does R do?

R allows to:

-   manipulate data

-   draw graphs

-   perform statistical analyses

-   and many other things...

![](ex_graph_R.png){width="80%"}

::: notes
Other things: text mining, GIS...
:::

<!-- we are not going to work in R but in RStudio => close R -->

## Why use R?

-   It has many functionnalities that are constantly evolving, thanks to its community of users.

-   It is widely used by the scientific community.

-   A lot of help is available, in many languages.

## Is it difficult?

![](R_learning_curve.png){width="120%"}

## Let's open RStudio

![](RStudio_logo.png){width="20%"}

![](RStudio_screen.png){width="70%"}

=\> RStudio opens R.

::: notes
We are not going to work directly in R but in RStudio, for reason that you will discover in the coming hours, and days.
=\> Let's close R and open RStudio.

We find the same text than when we open R directly =\> RStudio opens R.
:::

## What is RStudio?

RStudio is an *Integrated Development Environment* (IDE): a software that provides many facilities to help programming with R.

![](engine_dashboard.png)

::: notes
RStudio is also free and open source.
:::

## The console and the prompt

![](console_prompt.png)

The prompt is indicating that R is waiting for our instruction.

::: notes
We are going to see little by little what are the different windows of RStudio.
Let's start with the console.
:::

## Let's try some basic commands!

Write an operation in the console and click *Enter*.

```{r}
2 + 3
```

::: notes
\[1\] indicates that the answer is the first element of the line.
:::

## Let's try some basic commands!

```{r}
5 + 9
```

::: fragment
```{r}
8 - 2 
```
:::

::: fragment
```{r}
-2 * 4 
```
:::

::: fragment
```{r}
8 / 3
```
:::

::: fragment
```{r}
4^2
```
:::

## Spaces are not important.

```{r}
1+2
1 + 2
1    +     2
```

## Command history

The previous commands are visible in the command history.

![](command_history.png){width="60%"}

You can run them again by double-clicking on them or clicking on *To Console*.
But in practice, we will not use this much...

You can also use the ‚¨ÜÔ∏è or ‚¨áÔ∏è keys of the keyboard to navigate the command history in the console.

## Let's try some more commands...

```{r}
log(-1)
```

[*NAN* means "not a number".]{.fragment}

## Let's try some more commands...

```{r, eval=FALSE}
4 * 
```

[This is an unfinished command. We can finish after the +.
![](unfinished.png){width="30%"}]{.fragment}

[Or press *Esc* to terminate the command line.]{.fragment}

## Let's try some more commands...

```{r, eval=FALSE}
2 * x 
```

[We get an error message. Why?]{.fragment}

[R doesn't know what is *x*.]{.fragment}

# Objects

## Basic objects

Let's put something in x

```{r}
x <- 5
```

[*x* is an **object**. We assign it the value of 5, using the assignment operator **\<-**]{.fragment}

[‚ö†Ô∏è The content of *x* is not printed. But we can see it by typing its name in the console.]{.fragment}

::: fragment
```{r}
x
```
:::

[And we can use it in other commands.]{.fragment}

::: fragment
```{r}
2 * x
```
:::

## Where are the objects stored?

Objects are store in the environment

![](enviro.png){width="100%"}

[‚ö†Ô∏è They are kept in memory throughout the session but are **not saved** when RStudio is closed.]{.fragment}

## Where are the objects stored?

You can see the content of the environment with the function *ls*

::: fragment
```{r}
ls()
```
:::

[You can remove an object from the environment using the function *rm*]{.fragment}

::: fragment
```{r}
rm(x)
ls()
```
:::

[‚ö†Ô∏è Typing *rm()* clears all the environement!]{.fragment}

## Assigning a new value to an existing object

```{r}
x <- 3
x 
```

::: fragment
```{r}
x <- 9
x
```
:::

[Assigning a new value to an object replaces the previous value (as you can see in the environment).
‚ö†Ô∏è Don't give the same name to several objects!]{.fragment}

## Objects are not linked

```{r}
y <- x
y
```

[Modifying *x* does not modify *y*.]{.fragment}

::: fragment
```{r}
x <- 25
y
```
:::

## Creating more objects

```{r}
result <- 3 * x
```

[The new object *result* is stored in the environment. It is not printed.]{.fragment}

::: fragment
```{r}
result2 <- 4 * x
```
:::

::: fragment
```{r}
result3 <- 25 * x
```
:::

[We can name objects the way we want but...ü§î]{.fragment}

[... calling them *result*, *result2*, *result3* is not explicit enought!]{.fragment}

::: notes
What's wrong with the way we call them here?
This way of naming objects is not going to be usefull...
:::

## Naming an object

Some good practices when naming an object:

-   Use explicit names while trying to keep names short
-   Object names can contain letter, numbers, the symbols [.]{style="color:indianred;"}, [-]{style="color:indianred;"} and [\_]{style="color:indianred;"}
-   Object names cannot start with a number
-   Object names cannot contain a space
-   The case matters (upper and lower cases are not the same)
-   Avoid accents (for encoding problems)

## Naming an object

Adopt a consistant naming style

![](name_style.png)

## Objects are not necessarly numbers

What if we write some text in an object?

```{r}
y <- "Ola!"
y
```

[ü§î Why do we need the " " ?]{.fragment}

::: fragment
```{r, eval=FALSE}
y <- Ola!
```
:::

## Mode of an object

The type of an object is called the *mode*.

We can use the function *mode* to check what is the mode of an object:

::: fragment
```{r}
x
```
:::

::: fragment
```{r}
mode(x)
```
:::

::: fragment
```{r}
mode(y)
```
:::

## Mode of an object

Here are the main modes you will use:

```{r, echo=FALSE}
mod <- data.frame(Mode = c("numeric", "character", "logical"),
                  What = c("real number", "character string", "bolean (true/false)"),
                  Example = c("2.3", " \"hello\" ", "true"))
knitr::kable(mod)
```

::: notes
But other exists: complex, raw, expression, function, list
:::

## Mode of an object

ü§î What is a boolean?

::: fragment
```{r}
test <- 2 == 3
test
```
:::

::: fragment
```{r}
mode(test)
```
:::

::: notes
we use == otherwise it is an assigment as is the \<-
:::

## Numeric

Object of mode *numeric* can be:

-   double: for any real number

::: fragment
```{r}
x <- 1.5
mode(x)
typeof(x)
```
:::

-   integer

::: fragment
```{r}
x <- 1L
mode(x)
typeof(x)
```
:::

::: notes
The L is to specify that we want it to be integer
:::

## Check the type of an object

```{r}
x <- 1
is.numeric(x)
```

::: fragment
```{r}
is.integer(x)
```
:::

[ü§î Why?]{.fragment}

::: fragment
```{r}
x <- 1L
is.numeric(x)
```
:::

::: fragment
```{r}
is.integer(x)
```
:::

## Change the type of an object

We can change the type of an object.

::: fragment
```{r}
x <- 1
is.integer(x)
```
:::

::: fragment
```{r}
x <- as.integer(x)
is.integer(x)
```
:::

## Check and change the type of an object

See also

::: nonincremental
-   *is.numeric* and *as.numeric*

-   *is.integer* and *as.integer*

-   *is.double* and *as.double*

-   *is.character* and *as.character*

-   *is.logical* and *as.logical*

-   ...
:::

## Let's play a bit!

ü§î

::: fragment
```{r}
is.character(TRUE)
```
:::

::: fragment
```{r}
mode(TRUE)
```
:::

::: fragment
```{r}
is.character("TRUE")
```
:::

## All good?

You've done your first steps with R!

Parab√©ns üéâ

::: notes
End of the first session
If still a lot of time
=> questions?
=> start the third session on vectors?
:::

# Questions on the last session?

::: notes
Start of the second session
:::

## Let's see if all is clear

::: notes
TO DO, add some tests
:::


# Working with RStudio

Before going further with our exploration of R, let's get organised!

Work in progress...

<!-- have them create a project that they will use for the whole class-->

```{=html}
<!-- 
les scripts, commenter les scripts...
See cours M√©laine sur working enviro
puis project, project organisation
Voir aide RStudio ? et le mettre dans les ressources

-->
```

<!-- voir 2.4 in Juba-->

# Data structure

![](data_structure.png){width="120%"}

## Vectors

```{=html}
<!-- what if we want to put more than a value in an object
cf M√©laine slide 61... 
-->
```

```{=html}
<!-- see class Juba here, from 2.2.2

https://larmarange.github.io/analyse-R/vecteurs-indexation-et-assignation.html-->
```

## Factors

```{=html}
<!--
Class of data, that we can use for a vector

par ex, si on a un vecteur de 3 couleurs => en faire un vecteur de caract√®res et le transformer en vecteur

https://larmarange.github.io/analyse-R/facteurs-et-vecteurs-labellises.html

-->
```

## Lists

```{=html}
<!-- m√©laine slide 74

https://larmarange.github.io/analyse-R/listes-et-tableaux-de-donnees.html
-->
```

## Matrices

<!-- m√©laine slide 77-->

## Arrays

## Dataframes

```{=html}
<!-- m√©laine slide 81

But we will see this later, during the session Manipulating data-->
```

```{=html}
<!-- 

and they don't contain necessarly only one information 

-->
```

<!-- prepare some ex for next time-->

# Functions, operators, packages, etc...

Work in progress...

```{=html}
<!-- see slides M√©laine from slide 58 for operators
include here operation on vectors, matrix, etc...

tehn from slide 69 for fonctions
then slide 83 on fonctions

et slides juba

Dire que tout est des objects (see slide M√©laine on object 53)

and how to get HELP -->
```

## Acknowledgments

```{=html}
<!-- AT the end: recheck the two course to see if I have forgotten something

+ lister des ressources

+ faire des exercices pour chaque fin de session!!!!! -->
```

<!-- Cours Juba, cours M√©laine-->

## Resources
:::
::::
:::::
::::::
:::::::
::::::::
